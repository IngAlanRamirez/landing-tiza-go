---
// Botón flotante de WhatsApp con animaciones dinámicas
---

<!-- Botón flotante mejorado con animaciones -->
<div class="fixed bottom-6 right-6 z-50 group">
  <!-- Tooltip animado -->
  <div
    class="absolute bottom-full right-0 mb-2 opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-y-[-4px] pointer-events-none"
  >
    <div
      class="bg-white/95 backdrop-blur-sm text-gray-800 px-4 py-3 rounded-2xl shadow-2xl relative"
    >
      <div class="font-semibold text-sm">¡Contáctanos ahora!</div>
      <div class="text-xs text-gray-600 mt-1">Respuesta inmediata 💬</div>
      <!-- Flecha del tooltip -->
      <div
        class="absolute bottom-[-6px] right-4 w-3 h-3 bg-white/95 transform rotate-45"
      >
      </div>
    </div>
  </div>

  <!-- Ondas de pulso -->
  <div
    class="absolute inset-0 rounded-full bg-green-500 animate-ping opacity-20"
  >
  </div>
  <div
    class="absolute inset-0 rounded-full bg-green-500 animate-ping opacity-10"
    style="animation-delay: 0.5s;"
  >
  </div>
  <div
    class="absolute inset-0 rounded-full bg-green-500 animate-ping opacity-5"
    style="animation-delay: 1s;"
  >
  </div>

  <!-- Botón principal -->
  <a
    href="https://wa.me/521XXXXXXXXXX?text=Hola%2C%20me%20interesa%20conocer%20más%20sobre%20Tiza%20Go"
    target="_blank"
    rel="noopener noreferrer"
    class="relative flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 active:scale-95 group-hover:shadow-green-500/50 whatsapp-button"
    aria-label="Contactar por WhatsApp"
  >
    <!-- Icono de WhatsApp con animación -->
    <svg
      class="w-8 h-8 text-white transition-transform duration-300 group-hover:scale-110 animate-bounce-gentle"
      fill="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.531 3.488"
      ></path>
    </svg>

    <!-- Indicador de notificación -->
    <div
      class="absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center animate-pulse"
    >
      <span class="text-white text-xs font-bold">1</span>
    </div>

    <!-- Efecto de brillo -->
    <div
      class="absolute inset-0 rounded-full bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-shine"
    >
    </div>
  </a>

  <!-- Elementos decorativos flotantes -->
  <div
    class="absolute -top-4 -left-4 w-3 h-3 bg-green-400/40 rounded-full animate-float-particle"
  >
  </div>
  <div
    class="absolute -bottom-4 -right-4 w-2 h-2 bg-green-500/40 rounded-full animate-float-particle"
    style="animation-delay: 1s;"
  >
  </div>
  <div
    class="absolute -top-6 right-2 w-1 h-1 bg-white/50 rounded-full animate-twinkle"
  >
  </div>
  <div
    class="absolute bottom-2 -left-6 w-1 h-1 bg-white/50 rounded-full animate-twinkle"
    style="animation-delay: 0.7s;"
  >
  </div>

  <!-- Rastro de movimiento -->
  <div
    class="absolute inset-0 rounded-full bg-green-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse-trail"
  >
  </div>
</div>

<style>
  /* Animaciones específicas para WhatsApp */
  @keyframes bounce-gentle {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-4px);
    }
  }

  @keyframes shine {
    0% {
      transform: translateX(-100%) rotate(45deg);
    }
    100% {
      transform: translateX(100%) rotate(45deg);
    }
  }

  @keyframes float-particle {
    0%,
    100% {
      transform: translateY(0px) translateX(0px) rotate(0deg);
    }
    25% {
      transform: translateY(-8px) translateX(4px) rotate(90deg);
    }
    50% {
      transform: translateY(-4px) translateX(-4px) rotate(180deg);
    }
    75% {
      transform: translateY(-12px) translateX(2px) rotate(270deg);
    }
  }

  @keyframes twinkle {
    0%,
    100% {
      opacity: 0;
      transform: scale(0.8);
    }
    50% {
      opacity: 1;
      transform: scale(1.2);
    }
  }

  @keyframes pulse-trail {
    0% {
      transform: scale(1);
      opacity: 0.5;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  /* Aplicar animaciones */
  .animate-bounce-gentle {
    animation: bounce-gentle 2s ease-in-out infinite;
  }

  .animate-shine {
    animation: shine 2s ease-in-out infinite;
  }

  .animate-float-particle {
    animation: float-particle 6s ease-in-out infinite;
  }

  .animate-twinkle {
    animation: twinkle 3s ease-in-out infinite;
  }

  .animate-pulse-trail {
    animation: pulse-trail 2s ease-in-out infinite;
  }

  /* Efecto de hover mejorado */
  .whatsapp-button:hover {
    box-shadow:
      0 20px 40px -12px rgba(34, 197, 94, 0.5),
      0 0 30px rgba(34, 197, 94, 0.3),
      0 0 60px rgba(34, 197, 94, 0.1);
  }

  /* Animación de aparición inicial */
  .whatsapp-button {
    animation: float-in 1s ease-out;
  }

  @keyframes float-in {
    0% {
      opacity: 0;
      transform: translateY(100px) scale(0.8);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .whatsapp-button {
      width: 3.5rem;
      height: 3.5rem;
    }

    .whatsapp-button svg {
      width: 1.5rem;
      height: 1.5rem;
    }
  }

  @media (max-width: 480px) {
    .fixed.bottom-6.right-6 {
      bottom: 1rem;
      right: 1rem;
    }
  }
</style>

<script>
  // Efecto de vibración al hacer hover
  document.addEventListener("DOMContentLoaded", () => {
    const button = document.querySelector(".whatsapp-button");
    if (button) {
      button.addEventListener("mouseenter", () => {
        // Vibración suave si está disponible
        if (navigator.vibrate) {
          navigator.vibrate(50);
        }
      });

      // Efecto de click con ondas
      button.addEventListener("click", (e) => {
        const mouseEvent = e as MouseEvent;
        const rect = button.getBoundingClientRect();
        const x = mouseEvent.clientX - rect.left;
        const y = mouseEvent.clientY - rect.top;

        // Crear onda de click
        const ripple = document.createElement("div");
        ripple.className =
          "absolute bg-white/30 rounded-full pointer-events-none";
        ripple.style.left = x + "px";
        ripple.style.top = y + "px";
        ripple.style.width = "0px";
        ripple.style.height = "0px";
        ripple.style.transform = "translate(-50%, -50%)";

        button.appendChild(ripple);

        // Animar la onda
        ripple.animate(
          [
            { width: "0px", height: "0px", opacity: 1 },
            { width: "80px", height: "80px", opacity: 0 },
          ],
          {
            duration: 600,
            easing: "ease-out",
          }
        ).onfinish = () => {
          ripple.remove();
        };
      });
    }
  });
</script>
